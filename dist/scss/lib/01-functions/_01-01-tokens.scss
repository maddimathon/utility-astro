///
/// @package @maddimathon/utility-astro@0.1.0-alpha.21
/// @since 0.1.0-alpha
///

@use 'pkg:@maddimathon/utility-sass/list';
@use 'pkg:@maddimathon/utility-sass/map';
@use 'pkg:@maddimathon/utility-sass/math';
@use 'pkg:@maddimathon/utility-sass/meta';

@use 'pkg:@maddimathon/utility-sass/01-functions' as utils;

@use '../../config';
// @use '../../tokens';

///
/// @return {list}
///
/// @since 0.1.0-alpha
/// @since 0.1.0-alpha.13 — Added $multipler param.
///
@function width-value($slug, $returnAsNumber: true, $multiplier: 1) {
    $libValue: utils.width-value(
        $slug,
        $multiplier: $multiplier,
        $returnAsNumber: $returnAsNumber
    );

    // returns
    @if $slug == 'page' and list.length($libValue) > 0 {
        //
        $width_content: var-width(content, $multiplier: $multiplier);
        $width_sidebar: var-width(sidebar, $multiplier: $multiplier);

        $gap_inline_layout: utils.var-gap-inline(layout);

        @return if(
            $returnAsNumber,
            $libValue,
            list.join(
                $libValue,
                calc($width_content + $width_sidebar + $gap_inline_layout),
                $separator: comma
            )
        );
    }

    @return $libValue;
}

///
/// @since 0.1.0-alpha
/// @since 0.1.0-alpha.13 — Added $multiplier param.
///
@function var-width($slug, $multiplier: 1) {
    $fallback: width-value(
        $slug,
        $multiplier: $multiplier,
        $returnAsNumber: true
    );

    // returns
    @if meta.type-of($fallback) == list and list.length($fallback) < 1 {
        @return utils.do-var(width-#{$slug});
    }

    @return utils.do-var(width-#{$slug}, $fallback);
}
