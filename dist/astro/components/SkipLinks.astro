---
/**
 * @since 0.1.0-alpha
 *
 * @packageDocumentation
 */

/* import - types */
import type { GenericElementProps } from '../../ts/00-types/index.js';

/* import - functions */

/* import - values */

/* import - components */

/* import - layouts */

/* TYPES ===================================== */

/**
 * Input props for the SkipLinks component.
 *
 * @since 0.1.0-alpha
 * @since 0.1.0-alpha.17 â€” Moved to component file.
 */
export interface SkipLinksProps {
    /**
     * The links used for skipping.
     */
    links: {
        label: string;
        href: string;
    }[];
}

/* PROPS ===================================== */

export interface Props extends GenericElementProps<SkipLinksProps, 'div'> {}

const {
    links,
    class: classList = [],
    ...attributes
}: Props = Astro.props.frontmatter ?? Astro.props;

/* CONSTANTS ===================================== */

if (
    !attributes['aria-description'] &&
    !attributes['aria-describedby'] &&
    !attributes['aria-label'] &&
    !attributes['aria-labelledby']
) {
    attributes['aria-label'] =
        links.length == 1 ? 'shortcut link' : 'shortcut links';
}
---

{
    links.length && (
        <ul
            {...attributes}
            class:list={['skip-link-list', '||', classList]}
        >
            {links.map((link) => (
                <li>
                    <a
                        href={link.href}
                        class='skip-link'
                        set:html={link.label}
                    />
                </li>
            ))}
        </ul>
    )
}
