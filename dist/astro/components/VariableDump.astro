---
/**
 * A component
 * @since 0.1.0-alpha.draft
 *
 * @packageDocumentation
 */

/* import - types */
import type { GenericElementProps } from '../../ts/00-types/index.js';
import type { Props as VariableDumpProps } from './VariableDump.d.ts';

/* import - functions */
import { VariableInspector } from '@maddimathon/utility-typescript/classes';

/* import - values */

/* import - components */
import CodeBlock from './CodeBlock.astro';

/* import - layouts */

/* TYPES ===================================== */

export type * from './VariableDump.d.ts';

/* PROPS ===================================== */

export interface Props extends GenericElementProps<VariableDumpProps, 'div'> {}

const {
    var: variable,
    name,
    ...props
}: Props = Astro.props.frontmatter ?? Astro.props;

/* CONSTANTS ===================================== */

const stringified = VariableInspector.stringify(
    { [name ?? 'var']: variable },
    {
        includePrefix: !!name,
    }
).trim();
---

<CodeBlock
    {...props}
    lang={undefined}
    set:html={stringified}
/>
