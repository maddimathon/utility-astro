---
/**
 * @since 0.1.0-alpha
 *
 * @packageDocumentation
 */

/* import - types */
import type { GenericElementProps } from '../../ts/00-types/index.js';

/* import - functions */

/* import - values */

/* import - components */

/* import - layouts */

/* TYPES ===================================== */

/* PROPS ===================================== */

export interface Props
    extends Omit<GenericElementProps<{}, 'button'>, 'class' | 'id'> {
    id: string;
    buttonID: string;

    icon?: boolean;
}

const {
    buttonID,
    id,

    icon = true,
    ...attrs
}: Props = Astro.props;

/* CONSTANTS ===================================== */

const buttonHTML = (await Astro.slots.render('default')).trim() || 'Toggle me';

const iconHTML =
    (await Astro.slots.render('icon')) ||
    `<span class='icon | toggle-icon'>
        <svg
            aria-ignore='true'
            role='img'
            width='100%'
            height='100%'
            viewBox='0 0 24 24'
            version='1.1'
            xmlns='http://www.w3.org/2000/svg'
            xmlns:xlink='http://www.w3.org/1999/xlink'
            xml:space='preserve'
            fill='none'
            stroke='currentColor'
            stroke-width='2'
            stroke-linecap='round'
            stroke-linejoin='round'
        >
            <path
                id='a'
                d='M5 12h14'
            />
            <path
                id='b'
                d='M12 5v14'
            />
        </svg>
    </span>`;
---

<button
    aria-disabled='true'
    class='toggle-control'
    data-toggle-control={id}
    id={buttonID}
    type='button'
    {...attrs}
>
    {icon && <Fragment set:html={iconHTML} />}
    <span
        class='toggle-control-inner'
        set:html={buttonHTML}
    />
</button>

<style lang='scss'>
    @forward '../css/icon.css';
</style>
